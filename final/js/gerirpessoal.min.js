function removeUser(e){$.post("../api/delete_user.php",{id:e},function(t,n,i){$("#user"+e).remove()}).fail(function(t){$("#user"+e).highlightAnimation(red,1500)})}function togglePauseUser(){var e=$(this).closest("tr").attr("id");e=e.replace("user",""),$.post("../api/pause_user.php",{id:e},function(t,n,i){var a=$("#user"+e),d=$("#user"+e+"-frozen");a.hasClass("warning")?(a.removeClass("warning"),d.removeClass("fa-play"),d.addClass("fa-pause"),d.tooltip("hide").attr("data-original-title","Congelar").tooltip("fixTitle")):(a.addClass("warning"),d.removeClass("fa-pause"),d.addClass("fa-play"),d.tooltip("hide").attr("data-original-title","Descongelar").tooltip("fixTitle"))}).fail(function(t){$("#user"+e).highlightAnimation(red,1500)})}function confirmRemoveUser(){var e=$(this).closest("tr").attr("id");e=e.replace("user",""),$("#confirm").modal({backdrop:"static",keyboard:!1}).one("click","#delete",function(){removeUser(e)})}function configEditUserModal(){$("#addUserModal form").trigger("reset"),$("#addUserModalTitle").html("Editar Utilizador");var e=$(this).closest("tr").attr("id");e=e.replace("user","");var t=$("#user"+e+" td:nth-child(2)").text(),n=$("#user"+e+" td:nth-child(3)").text(),i=$("#user"+e+" td:nth-child(4)").text(),a=$("#user"+e+" td:nth-child(5)").text(),d=$("#user"+e+" td:nth-child(6)").text(),r=$("#user"+e+" td:nth-child(7)").text(),l=$("#user"+e+" td:nth-child(8)").text(),o=$("#user"+e+" td:nth-child(9)").text(),c=$("#user"+e+" td:nth-child(10)").text();$('label[for="password"]').hide(),$("#password").removeAttr("required"),$("#password").hide(),"Amigo"==c?$("#friendOnlyParams").show():$("#friendOnlyParams").hide(),$("#identification").attr("disabled","disabled"),$("#identification").val(e),$("#name").val(t),$("#email").val(n),$("#gender").val(i),$("#birthdate").val(a),$("#role").val(c),$("#nif").val(r),$("#cellphone").val(d),$("#paymethod").val(l),$("#periodicity").val(o),$("#role").trigger("change")}function configAddNotificationModal(){var e=$(this).closest("tr").attr("id");e=e.replace("user","");var t=$("#user"+e+" td:nth-child(2)").text();$("#notificationUserId").val(e),$("#notificationName").val(t)}function config(){$('i[data-original-title="Editar"]').click(configEditUserModal),$('i[data-original-title="Eliminar"]').click(confirmRemoveUser),$('i[data-original-title="Congelar"]').click(togglePauseUser),$('i[data-original-title="Descongelar"]').click(togglePauseUser),$('i[data-original-title="Notificar"]').click(configAddNotificationModal)}$(document).ready(config);
