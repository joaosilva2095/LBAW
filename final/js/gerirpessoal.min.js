var green="#DFF0D8";var red="#A94442";var yellow="#FCF8E3";function registerUser(){var b=$("#identification").val();var d=$("#role").val();var e=$("#email").val();var h=$("#password").val();var a=$("#name").val();var g=$("#gender").val();var k=$("#birthdate").val();var j=$("#nif").val();var i=$("#cellphone").val();var c=$("#paymethod").val();var f=$("#periodicity").val();$.post("../api/register_user.php",{id:b,role:d,email:e,password:h,name:a,gender:g,birth:k,nif:j,cellphone:i,donative_type:c,periodicity:f},function(n,o,p){$("#registerUser").modal("hide");var m=$("#users tr:last");var l=m.clone();l.attr("id","user"+b);m.after(l);$("#user"+b+" td:nth-child(1)").html(b);$("#user"+b+" td:nth-child(2)").html(a);$("#user"+b+" td:nth-child(3)").html(k);$("#user"+b+" td:nth-child(4)").html(d);l.highlightAnimation(green,1500);$('i[data-original-title="Eliminar"]').click(removeUser);enableTooltips()}).fail(function(l){$("#registerStatus").fadeIn()})}function removeUser(){var a=$(this).closest("tr").attr("id");a=a.replace("user","");$.post("../api/delete_user.php",{id:a},function(b,c,d){$("#user"+a).remove()}).fail(function(b){$("#user"+a).highlightAnimation(red,1500)})}function togglePauseUser(){var a=$(this).closest("tr").attr("id");a=a.replace("user","");$.post("../api/pause_user.php",{id:a},function(b,c,d){$("#user"+a).css("background-color",yellow)}).fail(function(b){$("#user"+a).highlightAnimation(red,1500)})}function enableTooltips(){$('[data-toggle="tooltip"]').tooltip({placement:"top"})}$.fn.highlightAnimation=function(e,c){var d=e||"#DFF0D8";var a=c||1500;var b=this.css("background-color");this.stop().css("background-color",d).animate({backgroundColor:b},a)};$(document).ready(function(){enableTooltips();$("#registerUserSubmit").click(registerUser);$('i[data-original-title="Eliminar"]').click(removeUser);$('i[data-original-title="Pausar"]').click(togglePauseUser);$("#registerStatus").click(function(){$(this).fadeOut()});$("#role").change(function(){var a=$("#role").val();if(a==="Amigo"){$("#friendOnlyParams").fadeIn()}else{$("#friendOnlyParams").fadeOut()}})});