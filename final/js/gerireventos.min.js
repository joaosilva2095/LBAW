function removeEvent(e){$.post("../api/delete_event.php",{id:e},function(t,n,a){""===t?$("#event"+e).remove():$("#event"+e).highlightAnimation(red,1500)}).fail(function(t){$("#event"+e).highlightAnimation(red,1500)})}function removeEventFriend(e,t){$.post("../api/delete_friend_event.php",{eventId:e,userId:t},function(n,a,i){""===n?($("#seeEventModal").modal("hide"),$("#eventFriend"+e+"-"+t).remove()):$("#eventFriend"+e+"-"+t).highlightAnimation(red,1500)}).fail(function(n){$("#eventFriend"+e+"-"+t).highlightAnimation(red,1500)})}function confirmRemoveEvent(){var e=$(this).closest("tr").attr("id");e=e.replace("event",""),$("#confirm").modal({backdrop:"static",keyboard:!1}).one("click","#delete",function(){removeEvent(e)})}function confirmRemoveEventFriend(){var e=$(this).closest("tr").attr("id"),t=e.split("-"),n=t[0].replace("eventFriend",""),a=t[1];$("#confirm").modal({backdrop:"static",keyboard:!1}).one("click","#delete",function(){removeEventFriend(n,a)})}function configEditEventModal(){$("#addEventModal form").trigger("reset"),$("#addEventModalTitle").html("Editar Evento");var e=$(this).closest("tr").attr("id");e=e.replace("event","");var t=$("#event"+e+" td:nth-child(1)").text(),n=$("#event"+e+" td:nth-child(2)").text(),a=$("#event"+e+" td:nth-child(3)").text(),i=$("#event"+e+" td:nth-child(4)").text(),d=$("#event"+e+" td:nth-child(5)").text(),r=$("#event"+e+" td:nth-child(6)").text();$("#id").val(e),$("#name").val(n),$("#description").val(t),$("#date").val(a),$("#duration").val(i),$("#place").val(d),$("#price").val(r)}function configSeeEventModal(){$("#seeEventModal form").trigger("reset");var e=$(this).closest("tr").attr("id");e=e.replace("event","");var t=$("#event"+e+" > td:nth-child(1)").text(),n=$("#event"+e+" > td:nth-child(2)").text(),a=$("#event"+e+" td:nth-child(8)").html();$("#seeEventName").val(n),$("#seeEventDescription").val(t),$("#seeEventFriends").html(a),enableTooltips(),$('i[data-original-title="Eliminar Presença"]').click(confirmRemoveEventFriend)}function configNewFriendEventModal(){$("#addUserAttendanceEventModal form").trigger("reset");var e=$(this).closest("tr").attr("id");e=e.replace("event","");var t=$("#event"+e+" > td:nth-child(6)").text(),n=parseFloat(t);0===n?($("#paidEventParams").hide(),$("#attendancePaymentDate").removeAttr("required"),$("#attendancePaymentATMReference").removeAttr("required"),$("#attendancePaymentReceipt").removeAttr("required")):($("#paidEventParams").show(),$("#attendancePaymentDate").attr("required","required"),$("#attendancePaymentATMReference").attr("required","required"),$("#attendancePaymentReceipt").attr("required","required")),$("#attendanceEventId").val(e),$("#attendancePaymentValue").val(n),$("#addUserAttendanceEventModalTitle").html("Adicionar Presença")}function config(){$('i[data-original-title="Ver"]').click(configSeeEventModal),$('i[data-original-title="Adicionar Presença"]').click(configNewFriendEventModal),$('i[data-original-title="Editar"]').click(configEditEventModal),$('i[data-original-title="Eliminar"]').click(confirmRemoveEvent)}$(document).ready(config);
