function removeEvent(t){$.post("../api/delete_event.php",{id:t},function(e,n,i){""===e?$("#event"+t).remove():$("#event"+t).highlightAnimation(red,1500)}).fail(function(e){$("#event"+t).highlightAnimation(red,1500)})}function removeEventFriend(t,e){$.post("../api/delete_friend_event.php",{eventId:t,userId:e},function(n,i,a){""===n?($("#seeEventModal").modal("hide"),$("#eventFriend"+t+"-"+e).remove()):$("#eventFriend"+t+"-"+e).highlightAnimation(red,1500)}).fail(function(n){$("#eventFriend"+t+"-"+e).highlightAnimation(red,1500)})}function confirmRemoveEvent(){var t=$(this).closest("tr").attr("id");t=t.replace("event",""),$("#confirm").modal({backdrop:"static",keyboard:!1}).one("click","#delete",function(){removeEvent(t)})}function confirmRemoveEventFriend(){var t=$(this).closest("tr").attr("id"),e=t.split("-"),n=e[0].replace("eventFriend",""),i=e[1];$("#confirm").modal({backdrop:"static",keyboard:!1}).one("click","#delete",function(){removeEventFriend(n,i)})}function configEditEventModal(){$("#addEventModal form").trigger("reset"),$("#addEventModalTitle").html("Editar Evento");var t=$(this).closest("tr").attr("id");t=t.replace("event","");var e=$("#event"+t+" td:nth-child(1)").text(),n=$("#event"+t+" td:nth-child(2)").text(),i=$("#event"+t+" td:nth-child(3)").text(),a=$("#event"+t+" td:nth-child(4)").text(),d=$("#event"+t+" td:nth-child(5)").text(),l=$("#event"+t+" td:nth-child(6)").text();$("#id").val(t),$("#name").val(n),$("#description").val(e),$("#date").val(i),$("#duration").val(a),$("#place").val(d),$("#price").val(l)}function configSeeEventModal(){$("#seeEventModal form").trigger("reset");var t=$(this).closest("tr").attr("id");t=t.replace("event","");var e=$("#event"+t+" > td:nth-child(1)").text(),n=$("#event"+t+" > td:nth-child(2)").text(),i=$("#event"+t+" td:nth-child(8)").html();$("#seeEventName").val(n),$("#seeEventDescription").val(e),$("#seeEventFriends").html(i),enableTooltips(),$('i[data-original-title="Eliminar Presença"]').click(confirmRemoveEventFriend)}function configNewFriendEventModal(){$("#addUserAttendanceEventModal form").trigger("reset");var t=$(this).closest("tr").attr("id");t=t.replace("event","");var e=$("#event"+t+" > td:nth-child(6)").text(),n=parseFloat(e);0===n?($("#paidEventParams").hide(),$("#attendancePaymentDate").removeAttr("required"),$("#attendancePaymentATMReference").removeAttr("required"),$("#attendancePaymentReceipt").removeAttr("required")):($("#paidEventParams").show(),$("#attendancePaymentDate").attr("required","required"),$("#attendancePaymentATMReference").attr("required","required"),$("#attendancePaymentReceipt").attr("required","required")),$("#attendanceEventId").val(t),$("#attendancePaymentValue").val(n),$("#addUserAttendanceEventModalTitle").html("Adicionar Presença")}function config(){$('i[data-original-title="Ver"]').click(configSeeEventModal),$('i[data-original-title="Adicionar Presença"]').click(configNewFriendEventModal),$('i[data-original-title="Editar"]').click(configEditEventModal),$('i[data-original-title="Eliminar"]').click(confirmRemoveEvent)}$(document).ready(config);
