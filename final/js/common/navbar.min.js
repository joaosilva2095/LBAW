function markNotification(){var t=$(this).attr("id");t=t.replace("notification",""),$.post("../api/mark_notification.php",{id:t},function(i,e,n){$("#notification"+t).remove();var a=$("#notifications .badge");a.html(parseInt(a.html())-1)}).fail(function(i){$("#notification"+t).highlightAnimation(red,1500)})}function prepareEditCredentialsModal(){var t=$("#UserEmail").text();$("#editCredentialsFormName").val(t)}function editCredentials(t,i){var e=$("#editCredentialsFormName").val(),n=$("#editCredentialsFormOldPw").val(),a=$("#editCredentialsFormNewPw").val(),o=$("#editCredentialsFormConfirmPw").val();if((e===i||0==e.length)&&0==n.length)return $("#editCredentialsModal").modal("hide"),!0;if(0!=n.length){if(0==a.length||0==o.length||a==n||a!==o)return $("#UserStatus1").fadeIn(),!1}else if(0!=a.length||0!=o.length)return $("#UserStatus1").fadeIn(),!1;$.post("../api/edit_credentials.php",{id:t,old_name:i,new_name:e,old_pw:n,new_pw:a,confirm_pw:o},function(t,i,n){$("#UserEmail").html(e),$("#UserStatus2").fadeIn(3e3),$("#editCredentialsModal").modal("hide")}).fail(function(t){console.log(t),$("#UserStatus1").fadeIn()})}function config(){$("#notifications a").click(function(t){$(this).parent().toggleClass("open")}),$("body").click(function(t){$("#notifications").is(t.target)||0!==$("#notifications").has(t.target).length||0!==$(".open").has(t.target).length||$("#notifications").removeClass("open")}),$("#notifications li").click(markNotification),$("#EditCredentials").click(prepareEditCredentialsModal),$("#settings a").click(function(t){$(this).parent().toggleClass("open")})}$(document).ready(config);